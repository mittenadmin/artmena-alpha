---
import "../../../styles/index.css";

import PageHero from "../../../components/PageHero.astro";
import CardList from "../../../components/Cards/CardList.astro";
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { artists as artistsData } from "../../../data/artists";

export interface CardData {
  id?: string;
  imageSrc: string;
  imageAlt: string;
  preText?: string;
  title: string;
  description?: string;
  text1?: string;
  text2?: string;
}

export async function getStaticPaths() {
  return [
    { params: { category: "all" } },
    { params: { category: "paintings" } },
    { params: { category: "ceramics" } },
  ];
}

const allArtistsData: CardData[] = artistsData.map(artist => ({
  id: artist.id,
  imageSrc: artist.imageUrl,
  imageAlt: "Artist Portrait",
  title: artist.name,
  text1: artist.category,
  text2: `${artist.location}, ${artist.country}`,
}));

// Get the category from URL params
const { category } = Astro.params;

// Determine which artists to show based on category
let artists: CardData[];
let pageTitle: string;

switch (category) {
  case "all":
    artists = allArtistsData;
    pageTitle = "Artists";
    break;
  case "paintings":
    // For now, show empty until filtering logic is added
    artists = [];
    pageTitle = "Painting Artists";
    break;
  case "ceramics":
    // For now, show empty until filtering logic is added
    artists = [];
    pageTitle = "Ceramic Artists";
    break;
  default:
    artists = allArtistsData;
    pageTitle = "Artists";
}
---

<BaseLayout title="artmena/artists" description="artmena">
  <div class="min-h-screen">
    <PageHero title={pageTitle} />

    <CardList objectType="artists" cards={artists} imageRatio={"3:4"} />
  </div>
</BaseLayout>
