---
import "../../styles/index.css";

import PageHero from "../../components/PageHero.astro";
import CardList from "../../components/Cards/CardList.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { artists, featuredArtists as featuredArtistIds, emergingArtists as emergingArtistIds } from "../../data/artists";

export interface CardData {
  id?: string;
  imageSrc: string;
  imageAlt: string;
  preText?: string;
  title: string;
  description?: string;
  text1?: string;
  text2?: string;
}

const featuredArtists: CardData[] = featuredArtistIds.map(id => {
  const artist = artists.find(a => a.id === id)!;
  return {
    id: artist.id,
    imageSrc: artist.imageUrl,
    imageAlt: "Artist Portrait",
    title: artist.name,
    text1: artist.category,
    text2: `${artist.location}, ${artist.country}`,
  };
});

const emergingArtists: CardData[] = emergingArtistIds.map(id => {
  const artist = artists.find(a => a.id === id)!;
  return {
    id: artist.id,
    imageSrc: artist.imageUrl,
    imageAlt: "Artist Portrait",
    title: artist.name,
    text1: artist.category,
    text2: `${artist.location}, ${artist.country}`,
  };
});

const isAllView = false;
---

<BaseLayout title="artmena/artists" description="artmena">
  <div class="min-h-screen">
    <PageHero title="Artists" />

    {/* Featured Artists */}
    <CardList
      objectType="artists"
      title="Featured Artists"
      onViewAll={"artists/category/all"}
      cards={featuredArtists}
      maxRows={1}
      imageRatio={"3:4"}
    />

    {/* Emerging Artists */}
    <CardList
      objectType="artists"
      title="Emerging Artists"
      onViewAll={"artists/category/all"}
      cards={emergingArtists}
      maxRows={1}
      imageRatio={"3:4"}
    />
  </div>
</BaseLayout>
